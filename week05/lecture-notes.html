<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>week5-lecture-notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="week5-lecture-notes_files/libs/clipboard/clipboard.min.js"></script>
<script src="week5-lecture-notes_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="week5-lecture-notes_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="week5-lecture-notes_files/libs/quarto-html/popper.min.js"></script>
<script src="week5-lecture-notes_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="week5-lecture-notes_files/libs/quarto-html/anchor.min.js"></script>
<link href="week5-lecture-notes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="week5-lecture-notes_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="week5-lecture-notes_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="week5-lecture-notes_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="week5-lecture-notes_files/libs/bootstrap/bootstrap-bc29b7a494c55474c6a8d56f75b3cb06.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<hr>
<p>title: “Week5: Numpy” subtitle: “Introduction to the Numpy Library” author: “Dr.&nbsp;Smith” institution: “University of South Florida” date: “2024-02-10” date-format: long footer: “ISM4641-Python for Business Analytics” header: “Dr.&nbsp;Tim C. Smith ©️2025” css: style.css highlight-style: tango execute: echo: true format: html:</p>
<pre><code>page-layout: full
grid:
  body-width: 1400px
  sidebar-width: 250px
  margin-width: 0px
  gutter-width: 1.5rem
toc: true
toc-location: left
toc-depth: 2
number-sections: false
highlight-style: github
code-fold: false
code-tools: false
code-block-bg: "#f5f5f5"
code-block-border-left: "#31BAE9"
code-block-line-numbers: false
code-overflow: scroll
code-link: false
theme:
  light: flatly
  dark: darkly
callout-appearance: simple

code-line-numbers: true</code></pre>
<hr>
<style>
/* Canvas iframe optimization */
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  font-size: 16px;
  line-height: 1.5;
  color: #212529;
}

/* When NOT in iframe - force 1400px width */
@media screen {
  body:not(.in-iframe) .content {
    max-width: 1400px !important;
    width: 1400px !important;
    margin: 0 auto;
  }
  
  body:not(.in-iframe) #quarto-content {
    max-width: 1400px !important;
  }
  
  body:not(.in-iframe) .page-layout-full {
    max-width: 1400px !important;
  }
}

/* When IN iframe - responsive width */
@media screen {
  body.in-iframe {
    margin: 0;
    padding: 15px;
    max-width: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    font-size: 16px;
    line-height: 1.5;
    color: #212529;
  }
  .in-iframe .quarto-container {
    max-width: 100%;
    padding: 0 15px;
  }
  .in-iframe #quarto-content {
    max-width: 100%;
  }
  .in-iframe .page-layout-article {
    grid-template-columns: minmax(0, 1fr);
  }
  .in-iframe .page-layout-full {
    grid-template-columns: minmax(0, 1fr);
  }
  .in-iframe .sidebar {
    width: 200px !important;
    font-size: 0.9em;
  }
  .in-iframe .sidebar.toc-left {
    width: 200px !important;
    margin-right: 15px;
  }
  .in-iframe .column-body {
    grid-column: 1;
    max-width: 100%;
  }
  .in-iframe #quarto-document-content {
    max-width: calc(100% - 220px);
    padding: 0 15px;
  }
  .in-iframe pre {
    overflow-x: auto;
    max-width: 100%;
    font-size: 0.9em;
  }
  .in-iframe code {
    font-size: 0.9em;
  }
  .in-iframe table {
    display: block;
    overflow-x: auto;
    max-width: 100%;
    font-size: 0.9em;
  }
  .in-iframe img {
    max-width: 100%;
    height: auto;
  }
  .in-iframe .callout {
    margin: 1em 0;
    padding: 0.5em 1em;
  }
  .in-iframe .sourceCode {
    max-width: 100%;
    overflow-x: auto;
  }
  .in-iframe .cell {
    max-width: 100%;
  }
  .in-iframe body {
    font-size: 15px;
  }
  .in-iframe h1 {
    font-size: 1.8em;
  }
  .in-iframe h2 {
    font-size: 1.5em;
  }
  .in-iframe h3 {
    font-size: 1.3em;
  }
  .in-iframe h4 {
    font-size: 1.1em;
  }
  .in-iframe #quarto-margin-sidebar {
    display: none !important;
  }
  .in-iframe .margin-sidebar {
    display: none !important;
  }
  
  /* Ensure proper paragraph spacing */
  .in-iframe p {
    margin-bottom: 1rem;
  }
  
  /* Maintain list styling */
  .in-iframe ul, .in-iframe ol {
    margin-bottom: 1rem;
  }
}

@media screen and (max-width: 768px) {
  .in-iframe .sidebar {
    display: none !important;
  }
  .in-iframe #quarto-document-content {
    max-width: 100%;
  }
  .in-iframe body {
    font-size: 14px;
  }
}
</style>
<script>
if (window.self !== window.top) {
  document.addEventListener("DOMContentLoaded", function() {
    document.body.classList.add("in-iframe");
  });
}
</script>
<div style="page-break-after: always;"></div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Welcome, students. In today’s lecture, we will embark on a comprehensive exploration of <strong>NumPy</strong>—a foundational library in Python for numerical computing. Up to now, you have become comfortable with basic Python data structures such as lists, tuples, dictionaries, and sets, as well as control flows, functions, and variables. While these built-in data structures are versatile and well-suited for general programming tasks, they have limitations when it comes to efficiently handling large-scale numerical data and performing complex mathematical operations. This is where NumPy comes in, offering enhanced performance, memory efficiency, and a rich collection of functions designed specifically for numerical operations.</p>
</section>
<section id="situating-numpy-among-built-in-data-structures" class="level1">
<h1>Situating NumPy Among Built-In Data Structures</h1>
<p>Before delving into NumPy, let us briefly revisit the Python data structures you are already familiar with:</p>
<ul>
<li><p><strong>Lists and Tuples:</strong><br>
These are ordered collections that can store items of different data types. However, they are not optimized for numerical computations, particularly when working with large datasets.</p></li>
<li><p><strong>Dictionaries:</strong><br>
While extremely useful for mapping keys to values, dictionaries are not designed for element-wise arithmetic operations or handling multi-dimensional data.</p></li>
<li><p><strong>Sets:</strong><br>
Sets are useful for storing unique items, but they lack ordering and do not support indexed operations, which are critical in numerical analysis.</p></li>
</ul>
<p>In contrast, <strong>NumPy arrays</strong> are designed with the following advantages:</p>
<ul>
<li><p><strong>Homogeneous Data Types:</strong><br>
Unlike lists or tuples, NumPy arrays require that all elements be of the same type. This homogeneity allows for optimized memory usage and faster computations.</p></li>
<li><p><strong>Vectorized Operations:</strong><br>
NumPy supports operations on entire arrays without the need for explicit loops. This feature, known as vectorization, leads to significant performance improvements.</p></li>
<li><p><strong>Multi-dimensional Arrays:</strong><br>
NumPy naturally handles arrays of two or more dimensions, making it ideal for representing matrices and tensors that frequently appear in business analytics and data science.</p></li>
<li><p><strong>Broad Functionality:</strong><br>
From statistical computations to linear algebra, NumPy provides an extensive suite of mathematical tools essential for robust data analysis.</p></li>
</ul>
</section>
<section id="installing-and-setting-up-numpy" class="level1">
<h1>Installing and Setting Up NumPy</h1>
<section id="installing-numpy-locally" class="level2">
<h2 class="anchored" data-anchor-id="installing-numpy-locally">Installing NumPy Locally</h2>
<p>If you are working on your local machine, you can install NumPy via pip:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install numpy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Ensure that you are using the appropriate Python environment where your projects are maintained.</p>
</section>
<section id="using-numpy-in-google-colab" class="level2">
<h2 class="anchored" data-anchor-id="using-numpy-in-google-colab">Using NumPy in Google Colab</h2>
<p>Google Colab is a convenient platform for running Python notebooks, and it comes with NumPy pre-installed. To verify your NumPy installation in Colab, simply execute:</p>
<div id="a60fcb69" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"NumPy version:"</span>, np.__version__)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NumPy version: 2.3.1</code></pre>
</div>
</div>
<p>This command will display the version of NumPy installed on the platform.</p>
</section>
<section id="importing-numpy-in-your-notebooks" class="level2">
<h2 class="anchored" data-anchor-id="importing-numpy-in-your-notebooks">Importing NumPy in Your Notebooks</h2>
<p>Regardless of the environment, begin your notebooks by importing NumPy with the commonly used alias <code>np</code>:</p>
<div id="86acaf30" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This aliasing not only saves time but also improves code readability, particularly when using NumPy’s extensive functionality.</p>
</section>
</section>
<section id="creating-numpy-data-structures" class="level1">
<h1>Creating NumPy Data Structures</h1>
<p>NumPy offers several methods for creating arrays, each catering to different needs.</p>
<section id="creating-arrays-from-lists-or-tuples" class="level2">
<h2 class="anchored" data-anchor-id="creating-arrays-from-lists-or-tuples">Creating Arrays from Lists or Tuples</h2>
<p>You can convert Python lists or tuples directly into NumPy arrays:</p>
<div id="43cc94d1" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># From a list</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>sales_list <span class="op">=</span> [<span class="dv">250</span>, <span class="dv">300</span>, <span class="dv">450</span>, <span class="dv">500</span>, <span class="dv">350</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>sales_array <span class="op">=</span> np.array(sales_list)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales Array:"</span>, sales_array)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># From a tuple</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>inventory_tuple <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>inventory_array <span class="op">=</span> np.array(inventory_tuple)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Inventory Array:"</span>, inventory_array)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sales Array: [250 300 450 500 350]
Inventory Array: [10 15 20]</code></pre>
</div>
</div>
</section>
<section id="generating-arrays-with-built-in-functions" class="level2">
<h2 class="anchored" data-anchor-id="generating-arrays-with-built-in-functions">Generating Arrays with Built-In Functions</h2>
<p>NumPy provides functions to generate arrays without needing pre-existing data:</p>
<ul>
<li><p><strong><code>np.arange(start, stop, step)</code></strong><br>
Creates arrays with evenly spaced values.</p>
<div id="8072062c" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>days <span class="op">=</span> np.arange(<span class="dv">1</span>, <span class="dv">8</span>)  <span class="co"># Days 1 to 7</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Days:"</span>, days)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Days: [1 2 3 4 5 6 7]</code></pre>
</div>
</div></li>
<li><p><strong><code>np.linspace(start, stop, num)</code></strong><br>
Creates arrays with a specified number of evenly spaced values between two numbers.</p>
<div id="5b4abfb7" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>prices <span class="op">=</span> np.linspace(<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">10</span>)  <span class="co"># 10 prices from 10 to 100</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Prices:"</span>, prices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prices: [ 10.  20.  30.  40.  50.  60.  70.  80.  90. 100.]</code></pre>
</div>
</div></li>
</ul>
<!--
*The following examples using np.zeros and np.eye were in the original notes but have been replaced by advanced slicing topics per the updated practice questions.
-->
</section>
</section>
<section id="accessing-elements-in-numpy-arrays" class="level1">
<h1>Accessing Elements in NumPy Arrays</h1>
<p>Once you have created an array, accessing its elements is both intuitive and efficient.</p>
<section id="indexing-and-slicing-in-one-dimensional-arrays" class="level2">
<h2 class="anchored" data-anchor-id="indexing-and-slicing-in-one-dimensional-arrays">Indexing and Slicing in One-Dimensional Arrays</h2>
<div id="0fbd3723" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> np.array([<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>])</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing individual elements</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"First element:"</span>, data[<span class="dv">0</span>])</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Last element:"</span>, data[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Slicing: extracting sub-arrays</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Elements from index 1 to 3:"</span>, data[<span class="dv">1</span>:<span class="dv">4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>First element: 10
Last element: 50
Elements from index 1 to 3: [20 30 40]</code></pre>
</div>
</div>
<section id="advanced-slicing-in-1d-arrays-using-step-values" class="level3">
<h3 class="anchored" data-anchor-id="advanced-slicing-in-1d-arrays-using-step-values">Advanced Slicing in 1D Arrays (Using Step Values)</h3>
<p>Advanced slicing allows you to extract elements using a step parameter. For example:</p>
<div id="a97836d5" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Given a 1D array, extract every second element.</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> np.array([<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>])</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the slicing syntax arr[start:stop:step]</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Every second element:"</span>, arr[::<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Every second element: [10 30 50]</code></pre>
</div>
</div>
</section>
</section>
<section id="multi-dimensional-array-indexing" class="level2">
<h2 class="anchored" data-anchor-id="multi-dimensional-array-indexing">Multi-Dimensional Array Indexing</h2>
<p>For two-dimensional or higher arrays, indexing follows a similar pattern:</p>
<div id="a1b2d2c4" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>                   [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>],</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                   [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]])</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing an element (row 2, column 3)</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Element at row 2, column 3:"</span>, matrix[<span class="dv">1</span>, <span class="dv">2</span>])</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Slicing rows and columns</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"First two rows:</span><span class="ch">\n</span><span class="st">"</span>, matrix[:<span class="dv">2</span>, :])</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Second column:</span><span class="ch">\n</span><span class="st">"</span>, matrix[:, <span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Element at row 2, column 3: 6
First two rows:
 [[1 2 3]
 [4 5 6]]
Second column:
 [2 5 8]</code></pre>
</div>
</div>
<section id="advanced-slicing-in-2d-arrays-extracting-submatrices" class="level3">
<h3 class="anchored" data-anchor-id="advanced-slicing-in-2d-arrays-extracting-submatrices">Advanced Slicing in 2D Arrays (Extracting Submatrices)</h3>
<p>In addition to basic indexing, you can extract submatrices by combining row and column slicing. For example:</p>
<div id="0300ae31" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Given a 2D array A, extract the submatrix consisting of the first two rows and the last two columns.</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> np.array([</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>],</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>]</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use combined slicing: rows 0 and 1, and the last two columns.</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>submatrix <span class="op">=</span> A[:<span class="dv">2</span>, <span class="op">-</span><span class="dv">2</span>:]</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Submatrix (first two rows, last two columns):</span><span class="ch">\n</span><span class="st">"</span>, submatrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Submatrix (first two rows, last two columns):
 [[3 4]
 [7 8]]</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="processing-data-in-numpy-arrays" class="level1">
<h1>Processing Data in NumPy Arrays</h1>
<p>One of the major advantages of NumPy is its ability to process data efficiently.</p>
<section id="vectorized-operations" class="level2">
<h2 class="anchored" data-anchor-id="vectorized-operations">Vectorized Operations</h2>
<p>Vectorized operations allow you to perform element-wise arithmetic without explicit loops:</p>
<div id="d1e941be" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Suppose we have an array of sales figures</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>sales <span class="op">=</span> np.array([<span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>, <span class="dv">250</span>, <span class="dv">300</span>])</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Applying a 10% discount using vectorized multiplication</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>discounted_sales <span class="op">=</span> sales <span class="op">*</span> <span class="fl">0.90</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Discounted Sales:"</span>, discounted_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Discounted Sales: [ 90. 135. 180. 225. 270.]</code></pre>
</div>
</div>
</section>
<section id="using-loops-with-numpy-arrays" class="level2">
<h2 class="anchored" data-anchor-id="using-loops-with-numpy-arrays">Using Loops with NumPy Arrays</h2>
<p>Although vectorized operations are preferred, you can still use loops for more complex logic. Note, however, that loops tend to be less efficient:</p>
<div id="d5493327" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Increment each element by 5 using a loop</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>incremented_sales <span class="op">=</span> np.empty_like(sales)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(sales)):</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    incremented_sales[i] <span class="op">=</span> sales[i] <span class="op">+</span> <span class="dv">5</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Incremented Sales:"</span>, incremented_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Incremented Sales: [105 155 205 255 305]</code></pre>
</div>
</div>
</section>
<section id="applying-lambda-functions-and-np.vectorize" class="level2">
<h2 class="anchored" data-anchor-id="applying-lambda-functions-and-np.vectorize">Applying Lambda Functions and <code>np.vectorize</code></h2>
<p>You can use lambda functions to define custom operations. NumPy’s <code>np.vectorize</code> can then apply these functions to each element:</p>
<div id="eca4a1ee" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a lambda function to convert sales to revenue (assume price = $19.99)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>convert_to_revenue <span class="op">=</span> <span class="kw">lambda</span> x: x <span class="op">*</span> <span class="fl">19.99</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>vectorized_conversion <span class="op">=</span> np.vectorize(convert_to_revenue)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>revenues <span class="op">=</span> vectorized_conversion(sales)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Revenues:"</span>, revenues)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Revenues: [1999.  2998.5 3998.  4997.5 5997. ]</code></pre>
</div>
</div>
</section>
<section id="mapping-filtering-and-reducing-data" class="level2">
<h2 class="anchored" data-anchor-id="mapping-filtering-and-reducing-data">Mapping, Filtering, and Reducing Data</h2>
<section id="filtering-with-boolean-indexing" class="level3">
<h3 class="anchored" data-anchor-id="filtering-with-boolean-indexing">Filtering with Boolean Indexing</h3>
<p>Boolean indexing is an extremely powerful tool in NumPy that enables you to filter arrays based on one or more conditions. For example:</p>
<div id="5a4b0551" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample array of sales figures</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>sales <span class="op">=</span> np.array([<span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>, <span class="dv">250</span>, <span class="dv">300</span>, <span class="dv">350</span>, <span class="dv">400</span>])</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter sales greater than 200</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>high_sales <span class="op">=</span> sales[sales <span class="op">&gt;</span> <span class="dv">200</span>]</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"High Sales (greater than 200):"</span>, high_sales)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter sales between 150 and 350 (inclusive)</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>sales_between <span class="op">=</span> sales[(sales <span class="op">&gt;=</span> <span class="dv">150</span>) <span class="op">&amp;</span> (sales <span class="op">&lt;=</span> <span class="dv">350</span>)]</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales between 150 and 350:"</span>, sales_between)</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter sales that are either less than 150 or greater than 350 using np.logical_or</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>extreme_sales <span class="op">=</span> sales[np.logical_or(sales <span class="op">&lt;</span> <span class="dv">150</span>, sales <span class="op">&gt;</span> <span class="dv">350</span>)]</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales less than 150 or greater than 350:"</span>, extreme_sales)</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Using np.where to obtain the indices of sales greater than 250</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>indices <span class="op">=</span> np.where(sales <span class="op">&gt;</span> <span class="dv">250</span>)</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Indices where sales are greater than 250:"</span>, indices)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales values at these indices:"</span>, sales[indices])</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter sales using np.extract (similar to np.where but directly returns values)</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>extracted_sales <span class="op">=</span> np.extract(sales <span class="op">&gt;</span> <span class="dv">250</span>, sales)</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Extracted sales (greater than 250):"</span>, extracted_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>High Sales (greater than 200): [250 300 350 400]
Sales between 150 and 350: [150 200 250 300 350]
Sales less than 150 or greater than 350: [100 400]
Indices where sales are greater than 250: (array([4, 5, 6]),)
Sales values at these indices: [300 350 400]
Extracted sales (greater than 250): [300 350 400]</code></pre>
</div>
</div>
</section>
<section id="traversing-data-using-loops-and-lambda-functions" class="level3">
<h3 class="anchored" data-anchor-id="traversing-data-using-loops-and-lambda-functions">Traversing Data Using Loops and Lambda Functions</h3>
<p>Traversing a NumPy array can be done with simple loops or with lambda functions in conjunction with vectorized operations.</p>
<section id="using-loops-and-iterators" class="level4">
<h4 class="anchored" data-anchor-id="using-loops-and-iterators">Using Loops and Iterators</h4>
<div id="18229fcd" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Traversing using np.nditer</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Traversing sales using np.nditer:"</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> value <span class="kw">in</span> np.nditer(sales):</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Sales value:"</span>, value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Traversing sales using np.nditer:
Sales value: 100
Sales value: 150
Sales value: 200
Sales value: 250
Sales value: 300
Sales value: 350
Sales value: 400</code></pre>
</div>
</div>
</section>
<section id="using-lambda-functions" class="level4">
<h4 class="anchored" data-anchor-id="using-lambda-functions">Using Lambda Functions</h4>
<p>While lambda functions are not typically used for traversing arrays element-by-element (as vectorized operations are preferred), you can still apply them using functions such as <code>np.vectorize</code> or <code>np.apply_along_axis</code>.</p>
<p><strong>Example 1: Using np.vectorize to apply a lambda function element-wise</strong></p>
<div id="afdbb795" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a lambda function to add a fixed commission (e.g., $10) to each sale</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>add_commission <span class="op">=</span> <span class="kw">lambda</span> x: x <span class="op">+</span> <span class="dv">10</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Vectorize the lambda function to apply it to each element of the array</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>vectorized_add <span class="op">=</span> np.vectorize(add_commission)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>commissioned_sales <span class="op">=</span> vectorized_add(sales)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales after adding commission:"</span>, commissioned_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sales after adding commission: [110 160 210 260 310 360 410]</code></pre>
</div>
</div>
<p><strong>Example 2: Using np.apply_along_axis to traverse a multi-dimensional array</strong></p>
<div id="3b7ae29c" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a 2D array representing sales in different regions (rows) over several days (columns)</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>regional_sales <span class="op">=</span> np.array([</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">150</span>],</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">250</span>, <span class="dv">300</span>, <span class="dv">350</span>],</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">400</span>, <span class="dv">450</span>, <span class="dv">500</span>]</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a lambda function that calculates the range (max - min) for each row</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>range_func <span class="op">=</span> <span class="kw">lambda</span> row: np.<span class="bu">max</span>(row) <span class="op">-</span> np.<span class="bu">min</span>(row)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the lambda function along axis 1 (each row)</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>sales_range <span class="op">=</span> np.apply_along_axis(range_func, <span class="dv">1</span>, regional_sales)</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales range for each region:"</span>, sales_range)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sales range for each region: [100 100 100]</code></pre>
</div>
</div>
</section>
</section>
<section id="reducing-data" class="level3">
<h3 class="anchored" data-anchor-id="reducing-data">Reducing Data</h3>
<p>Reduction operations in NumPy aggregate data along an axis. Here are several examples beyond the standard sum, mean, and standard deviation:</p>
<div id="3d5d2b7a" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the total, mean, and standard deviation of sales</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>total_sales <span class="op">=</span> np.<span class="bu">sum</span>(sales)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>mean_sales <span class="op">=</span> np.mean(sales)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>std_sales <span class="op">=</span> np.std(sales)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Total Sales:"</span>, total_sales)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean Sales:"</span>, mean_sales)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Standard Deviation of Sales:"</span>, std_sales)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Additional reduction examples:</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Compute the product of all sales values</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>product_sales <span class="op">=</span> np.prod(sales)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Product of Sales:"</span>, product_sales)</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Find the minimum and maximum sales values</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>min_sales <span class="op">=</span> np.<span class="bu">min</span>(sales)</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>max_sales <span class="op">=</span> np.<span class="bu">max</span>(sales)</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Minimum Sales:"</span>, min_sales)</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Maximum Sales:"</span>, max_sales)</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Compute the median sales value</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>median_sales <span class="op">=</span> np.median(sales)</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Median Sales:"</span>, median_sales)</span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Compute the cumulative sum and cumulative product of sales</span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>cumulative_sales <span class="op">=</span> np.cumsum(sales)</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>cumulative_product <span class="op">=</span> np.cumprod(sales)</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Cumulative Sales:"</span>, cumulative_sales)</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Cumulative Product of Sales:"</span>, cumulative_product)</span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Compute the range of sales (difference between max and min)</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>range_sales <span class="op">=</span> max_sales <span class="op">-</span> min_sales</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Range of Sales:"</span>, range_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total Sales: 1750
Mean Sales: 250.0
Standard Deviation of Sales: 100.0
Product of Sales: 31500000000000000
Minimum Sales: 100
Maximum Sales: 400
Median Sales: 250.0
Cumulative Sales: [ 100  250  450  700 1000 1350 1750]
Cumulative Product of Sales: [              100             15000           3000000         750000000
      225000000000    78750000000000 31500000000000000]
Range of Sales: 300</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="important-numpy-methods-for-business-analytics" class="level1">
<h1>Important NumPy Methods for Business Analytics</h1>
<p>NumPy’s comprehensive suite of methods is invaluable in business analytics. Below are some methods and their potential applications:</p>
<section id="aggregation-functions" class="level2">
<h2 class="anchored" data-anchor-id="aggregation-functions"><strong>Aggregation Functions:</strong></h2>
<p>The following NumPy methods are used to aggregate a NumPy array into a single value: - <code>np.sum()</code> - <code>np.mean()</code> - <code>np.std()</code> - <code>np.min()</code> - <code>np.max()</code> - <code>np.median()</code></p>
</section>
<section id="cumulative-operations" class="level2">
<h2 class="anchored" data-anchor-id="cumulative-operations"><strong>Cumulative Operations:</strong></h2>
<p><code>np.cumsum()</code> computes the cumulative sum, which can be useful in tracking progressive sales or inventory levels.</p>
<div id="da375914" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>cumulative_sales <span class="op">=</span> np.cumsum(sales)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Cumulative Sales:"</span>, cumulative_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cumulative Sales: [ 100  250  450  700 1000 1350 1750]</code></pre>
</div>
</div>
</section>
<section id="difference-calculations" class="level2">
<h2 class="anchored" data-anchor-id="difference-calculations"><strong>Difference Calculations:</strong></h2>
<p><code>np.diff()</code> computes the difference between consecutive elements, aiding in trend analysis.</p>
<div id="c996c0df" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>sales_diff <span class="op">=</span> np.diff(sales)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales Differences:"</span>, sales_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sales Differences: [50 50 50 50 50 50]</code></pre>
</div>
</div>
</section>
<section id="reshaping-arrays" class="level2">
<h2 class="anchored" data-anchor-id="reshaping-arrays"><strong>Reshaping Arrays:</strong></h2>
<p>Below we demonstrate reshaping operations, including converting a 1D array into a 2D column array and extracting specific columns from a 2D array.</p>
<div id="0fa618ae" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assume 'sales' is a one-dimensional array of sales figures.</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>sales <span class="op">=</span> np.array([<span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>, <span class="dv">250</span>, <span class="dv">300</span>])</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original Sales (1D array):</span><span class="ch">\n</span><span class="st">"</span>, sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Original Sales (1D array):
 [100 150 200 250 300]</code></pre>
</div>
</div>
<div id="ff42058d" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reshape the one-dimensional array into a two-dimensional column array.</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>reshaped_sales <span class="op">=</span> sales.reshape(<span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Reshaped Sales (2D column array):</span><span class="ch">\n</span><span class="st">"</span>, reshaped_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reshaped Sales (2D column array):
 [[100]
 [150]
 [200]
 [250]
 [300]]</code></pre>
</div>
</div>
<div id="4153eeb8" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Consider a 2D array with two columns.</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, an array where each row contains a sales figure and a corresponding discount value.</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> np.array([</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100</span>, <span class="dv">10</span>],</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">150</span>, <span class="dv">15</span>],</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">200</span>, <span class="dv">20</span>],</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">250</span>, <span class="dv">25</span>],</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">300</span>, <span class="dv">30</span>]</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original Data (2D array):</span><span class="ch">\n</span><span class="st">"</span>, data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Original Data (2D array):
 [[100  10]
 [150  15]
 [200  20]
 [250  25]
 [300  30]]</code></pre>
</div>
</div>
<div id="68189550" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract just the first column (sales) as a one-dimensional array.</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>sales_column <span class="op">=</span> data[:, <span class="dv">0</span>]  <span class="co"># The ':' selects all rows; '0' selects the first column.</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Extracted Sales Column (1D array):</span><span class="ch">\n</span><span class="st">"</span>, sales_column)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Extracted Sales Column (1D array):
 [100 150 200 250 300]</code></pre>
</div>
</div>
<div id="edbdfb41" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Similarly, extract the second column (discounts) as a one-dimensional array.</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>discounts_column <span class="op">=</span> data[:, <span class="dv">1</span>]</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Extracted Discounts Column (1D array):</span><span class="ch">\n</span><span class="st">"</span>, discounts_column)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Extracted Discounts Column (1D array):
 [10 15 20 25 30]</code></pre>
</div>
</div>
</section>
<section id="sorting-data" class="level2">
<h2 class="anchored" data-anchor-id="sorting-data"><strong>Sorting Data:</strong></h2>
<p><code>np.sort()</code> can sort arrays, which is useful in identifying outliers or preparing data for further analysis.</p>
<div id="264854ed" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>sorted_sales <span class="op">=</span> np.sort(sales)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sorted Sales:"</span>, sorted_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sorted Sales: [100 150 200 250 300]</code></pre>
</div>
</div>
</section>
<section id="dot-product-and-matrix-multiplication" class="level2">
<h2 class="anchored" data-anchor-id="dot-product-and-matrix-multiplication"><strong>Dot Product and Matrix Multiplication:</strong></h2>
<p>For financial modeling and other analytical tasks, <code>np.dot()</code> and methods in <code>numpy.linalg</code> (such as <code>np.linalg.inv()</code> and <code>np.linalg.eig()</code>) are essential.</p>
<div id="8c7eece9" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example of dot product between two arrays</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>vector_a <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>vector_b <span class="op">=</span> np.array([<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>])</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>dot_product <span class="op">=</span> np.dot(vector_a, vector_b)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Dot Product:"</span>, dot_product)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dot Product: 32</code></pre>
</div>
</div>
</section>
</section>
<section id="data-persistence-in-numpy-and-beyond" class="level1">
<h1>Data Persistence in NumPy and Beyond</h1>
<p>In business analytics, it is essential not only to process and analyze data but also to <strong>persist</strong> (i.e., save and later reload) your data for further processing, sharing, or archival purposes. In this section, we will explore three primary methods for data persistence:</p>
<ol type="1">
<li><p><strong>NumPy’s Native Binary Formats:</strong><br>
Utilizing NumPy’s own functions to save arrays in a binary format (.npy and .npz).</p></li>
<li><p><strong>CSV Files:</strong><br>
Saving to and loading from comma-separated values (CSV) files, which are human-readable and widely used for data exchange.</p></li>
<li><p><strong>MS Excel Spreadsheets:</strong><br>
Although NumPy does not directly support Excel formats, you can integrate with the pandas library to handle Excel files.</p></li>
</ol>
<p>Each method has its advantages and is appropriate for different scenarios.</p>
<hr>
<section id="saving-and-loading-with-numpys-native-formats" class="level2">
<h2 class="anchored" data-anchor-id="saving-and-loading-with-numpys-native-formats">Saving and Loading with NumPy’s Native Formats</h2>
<p>NumPy provides functions to efficiently save and load arrays in binary formats. These formats are highly efficient and preserve data type and shape information.</p>
<section id="saving-a-single-array-.npy" class="level3">
<h3 class="anchored" data-anchor-id="saving-a-single-array-.npy">Saving a Single Array (.npy)</h3>
<div id="e0fb36df" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a sample array</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>sales <span class="op">=</span> np.array([<span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>, <span class="dv">250</span>, <span class="dv">300</span>, <span class="dv">225</span>, <span class="dv">310</span>, <span class="dv">485</span>, <span class="dv">320</span>, <span class="dv">190</span>, <span class="dv">320</span>, <span class="dv">276</span>, <span class="dv">312</span>, <span class="dv">378</span>])</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the array to a binary file</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>np.save(<span class="st">"sales.npy"</span>, sales)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales array saved to 'sales.npy'."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sales array saved to 'sales.npy'.</code></pre>
</div>
</div>
</section>
<section id="loading-a-single-array-.npy" class="level3">
<h3 class="anchored" data-anchor-id="loading-a-single-array-.npy">Loading a Single Array (.npy)</h3>
<div id="24881a85" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the array from the binary file</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>loaded_sales <span class="op">=</span> np.load(<span class="st">"sales.npy"</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Loaded Sales:"</span>, loaded_sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded Sales: [100 150 200 250 300 225 310 485 320 190 320 276 312 378]</code></pre>
</div>
</div>
</section>
<section id="saving-multiple-arrays-.npz" class="level3">
<h3 class="anchored" data-anchor-id="saving-multiple-arrays-.npz">Saving Multiple Arrays (.npz)</h3>
<p>When you have multiple arrays, you can store them together in a compressed file using the <code>.npz</code> format.</p>
<div id="bb54ee75" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create multiple arrays</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>inventory <span class="op">=</span> np.array([[<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>],</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>                      [<span class="dv">12</span>, <span class="dv">18</span>, <span class="dv">25</span>],</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>                      [<span class="dv">14</span>, <span class="dv">20</span>, <span class="dv">30</span>]])</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>prices <span class="op">=</span> np.array([<span class="fl">19.99</span>, <span class="fl">29.99</span>, <span class="fl">39.99</span>])</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Save both arrays into a single .npz file</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>np.savez(<span class="st">"data.npz"</span>, inventory<span class="op">=</span>inventory, prices<span class="op">=</span>prices)</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Inventory and prices arrays saved to 'data.npz'."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Inventory and prices arrays saved to 'data.npz'.</code></pre>
</div>
</div>
</section>
<section id="loading-multiple-arrays-from-a-.npz-file" class="level3">
<h3 class="anchored" data-anchor-id="loading-multiple-arrays-from-a-.npz-file">Loading Multiple Arrays from a .npz File</h3>
<div id="7dcfc48e" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data from the .npz file</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> np.load(<span class="st">"data.npz"</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>loaded_inventory <span class="op">=</span> data[<span class="st">"inventory"</span>]</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>loaded_prices <span class="op">=</span> data[<span class="st">"prices"</span>]</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Loaded Inventory:</span><span class="ch">\n</span><span class="st">"</span>, loaded_inventory)</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Loaded Prices:"</span>, loaded_prices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded Inventory:
 [[10 15 20]
 [12 18 25]
 [14 20 30]]
Loaded Prices: [19.99 29.99 39.99]</code></pre>
</div>
</div>
<hr>
</section>
</section>
<section id="saving-and-loading-csv-files" class="level2">
<h2 class="anchored" data-anchor-id="saving-and-loading-csv-files">Saving and Loading CSV Files</h2>
<p>CSV files are text-based and widely used for data sharing and interoperability with other applications. While CSV files are not as efficient as binary formats, they are human-readable and easily editable.</p>
<section id="saving-an-array-to-a-csv-file" class="level3">
<h3 class="anchored" data-anchor-id="saving-an-array-to-a-csv-file">Saving an Array to a CSV File</h3>
<div id="560a5aa5" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the sales array to a CSV file</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Here, we include a header and use commas as delimiters.</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>np.savetxt(<span class="st">"sales.csv"</span>, sales, fmt<span class="op">=</span><span class="st">"</span><span class="sc">%d</span><span class="st">"</span>, delimiter<span class="op">=</span><span class="st">","</span>, header<span class="op">=</span><span class="st">"Sales Data"</span>, comments<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales array saved to 'sales.csv'."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sales array saved to 'sales.csv'.</code></pre>
</div>
</div>
</section>
<section id="loading-an-array-from-a-csv-file" class="level3">
<h3 class="anchored" data-anchor-id="loading-an-array-from-a-csv-file">Loading an Array from a CSV File</h3>
<div id="316b973e" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the sales array from the CSV file</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The header row is skipped using the skiprows parameter.</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>loaded_sales_csv <span class="op">=</span> np.loadtxt(<span class="st">"sales.csv"</span>, delimiter<span class="op">=</span><span class="st">","</span>, skiprows<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Loaded Sales from CSV:"</span>, loaded_sales_csv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded Sales from CSV: [100. 150. 200. 250. 300. 225. 310. 485. 320. 190. 320. 276. 312. 378.]</code></pre>
</div>
</div>
<hr>
</section>
</section>
<section id="working-with-ms-excel-spreadsheets" class="level2">
<h2 class="anchored" data-anchor-id="working-with-ms-excel-spreadsheets">Working with MS Excel Spreadsheets</h2>
<p>While NumPy does not have built-in support for Excel files, the <strong>pandas</strong> library offers robust functionality for reading from and writing to Excel spreadsheets. Once the data is loaded into a pandas DataFrame, you can convert it to a NumPy array if needed.</p>
<section id="saving-data-to-an-excel-file-using-pandas" class="level3">
<h3 class="anchored" data-anchor-id="saving-data-to-an-excel-file-using-pandas">Saving Data to an Excel File using pandas</h3>
<div id="6afad318" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a pandas DataFrame from the sales array</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>sales_df <span class="op">=</span> pd.DataFrame(sales, columns<span class="op">=</span>[<span class="st">"Sales"</span>])</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the DataFrame to an Excel file (requires openpyxl: pip install openpyxl)</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>sales_df.to_excel(<span class="st">"sales.xlsx"</span>, index<span class="op">=</span><span class="va">False</span>, sheet_name<span class="op">=</span><span class="st">"SalesData"</span>)</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales data saved to 'sales.xlsx'."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sales data saved to 'sales.xlsx'.</code></pre>
</div>
</div>
</section>
<section id="loading-data-from-an-excel-file-using-pandas" class="level3">
<h3 class="anchored" data-anchor-id="loading-data-from-an-excel-file-using-pandas">Loading Data from an Excel File using pandas</h3>
<div id="05e6c941" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file into a DataFrame</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_excel(<span class="st">"sales.xlsx"</span>, sheet_name<span class="op">=</span><span class="st">"SalesData"</span>)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the DataFrame to a NumPy array if necessary</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>sales_from_excel <span class="op">=</span> df.to_numpy()</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sales data loaded from Excel:</span><span class="ch">\n</span><span class="st">"</span>, sales_from_excel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sales data loaded from Excel:
 [[100]
 [150]
 [200]
 [250]
 [300]
 [225]
 [310]
 [485]
 [320]
 [190]
 [320]
 [276]
 [312]
 [378]]</code></pre>
</div>
</div>
<hr>
</section>
</section>
</section>
<section id="real-world-applications-in-business-analytics" class="level1">
<h1>Real-World Applications in Business Analytics</h1>
<p>To consolidate the concepts learned today, consider the following business cases where NumPy plays a critical role.</p>
<section id="sales-and-revenue-analysis" class="level2">
<h2 class="anchored" data-anchor-id="sales-and-revenue-analysis">Sales and Revenue Analysis</h2>
<p>Imagine a retail company analyzing daily sales data:</p>
<div id="f10f898a" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Daily units sold over one week</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>daily_units <span class="op">=</span> np.array([<span class="dv">120</span>, <span class="dv">135</span>, <span class="dv">150</span>, <span class="dv">145</span>, <span class="dv">160</span>, <span class="dv">155</span>, <span class="dv">170</span>])</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>price_per_unit <span class="op">=</span> <span class="fl">19.99</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate daily revenue using vectorized multiplication</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>daily_revenue <span class="op">=</span> daily_units <span class="op">*</span> price_per_unit</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Daily Revenue:"</span>, daily_revenue)</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Total revenue over the week</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>weekly_revenue <span class="op">=</span> np.<span class="bu">sum</span>(daily_revenue)</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Weekly Revenue:"</span>, weekly_revenue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Daily Revenue: [2398.8  2698.65 2998.5  2898.55 3198.4  3098.45 3398.3 ]
Weekly Revenue: 20689.649999999998</code></pre>
</div>
</div>
</section>
<section id="inventory-management" class="level2">
<h2 class="anchored" data-anchor-id="inventory-management">Inventory Management</h2>
<p>For multi-store inventory management, NumPy aids in aggregating and analyzing inventory levels:</p>
<div id="b3f03496" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inventory levels for three stores and three product categories</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>inventory_levels <span class="op">=</span> np.array([[<span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>],</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>                             [<span class="dv">120</span>, <span class="dv">130</span>, <span class="dv">210</span>],</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>                             [<span class="dv">110</span>, <span class="dv">160</span>, <span class="dv">190</span>]])</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Total inventory per store (summing along columns)</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>store_totals <span class="op">=</span> np.<span class="bu">sum</span>(inventory_levels, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Inventory Totals per Store:"</span>, store_totals)</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Total inventory per product category (summing along rows)</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>category_totals <span class="op">=</span> np.<span class="bu">sum</span>(inventory_levels, axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Inventory Totals per Category:"</span>, category_totals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Inventory Totals per Store: [450 460 460]
Inventory Totals per Category: [330 440 600]</code></pre>
</div>
</div>
</section>
<section id="financial-modeling" class="level2">
<h2 class="anchored" data-anchor-id="financial-modeling">Financial Modeling</h2>
<p>Consider a scenario where you analyze asset returns to compute a covariance matrix—an essential component in portfolio risk analysis:</p>
<div id="fe715f3a" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Returns of two assets over several periods</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>returns <span class="op">=</span> np.array([[<span class="fl">0.05</span>, <span class="fl">0.07</span>, <span class="fl">0.06</span>, <span class="fl">0.04</span>],</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>                    [<span class="fl">0.02</span>, <span class="fl">0.03</span>, <span class="fl">0.025</span>, <span class="fl">0.035</span>]])</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>covariance_matrix <span class="op">=</span> np.cov(returns)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Covariance Matrix:</span><span class="ch">\n</span><span class="st">"</span>, covariance_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Covariance Matrix:
 [[ 1.66666667e-04 -1.66666667e-05]
 [-1.66666667e-05  4.16666667e-05]]</code></pre>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Today’s lecture provided a detailed introduction to NumPy, underscoring its importance in the realm of business analytics and data science. We began by comparing NumPy arrays with standard Python data structures, highlighting the need for efficiency and advanced operations. We then covered practical aspects such as installation (both locally and on Google Colab), importing the library, and various methods for creating, accessing, and processing data with NumPy. In addition, we explored techniques for mapping, filtering, and reducing data, and discussed several key functions essential for business analytics.</p>
<p>Furthermore, we introduced methods for persisting your work by loading and saving NumPy arrays using both binary and CSV file formats. Although NumPy does not directly support MS Excel spreadsheets, you can easily handle Excel data with the help of pandas.</p>
<p>I encourage you to experiment with these techniques and explore further how NumPy integrates with other libraries (such as pandas and scikit-learn) to create a powerful analytics toolkit. For additional reading and practice, please consult the <a href="https://numpy.org/doc/">NumPy Official Documentation</a> and other recommended resources.</p>
<hr>
<p><em>Dr.&nbsp;Tim C. Smith ©️2025</em><br>
<em>University of South Florida, ISM4641 Python for Business Analytics</em> —</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>